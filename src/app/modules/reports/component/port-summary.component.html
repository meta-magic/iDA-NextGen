<div class="grid p-fluid">
    <div class="md:col-2">
        <p-card>
            <div class="p-card-content" style="height: 100vh;">
            <div class="flex leftSidePortCol">
                <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>
                    <input type="text" pInputText placeholder="Search" />
                </span>
                <span>
                    <i class="pi pi-book m-2" (click)="generateReport()" style="cursor: pointer;"></i>
                </span>
            </div>
            <!-- <div>
                <p-paginator [rows]="5" [totalRecords]="10" [rowsPerPageOptions]="[5,10]" styleClass="width=200px;"></p-paginator>
            </div> -->
            <app-port-device-list-column></app-port-device-list-column>

        </div>

        </p-card>

    </div>


    <div class="md:col-10">
        <ng-template [ngIf]="gg">
            <p-card>
                <ng-template pTemplate="header">
                    <p-toolbar>
                        <div class="p-toolbar-group-left">
                            <p-button label="" icon="fa fa-files-o" styleClass="p-button-text" class="mr-2"></p-button>
                            <span class="mr-2">{{'Pr1_Test Report'}}</span>
                            <button pButton pRipple type="button" icon="pi pi-user"
                                class="p-button-rounded p-button-info mr-2"></button>
                        </div>

                        <div class="p-toolbar-group-right">
                            <p-button label="Report Shaduled" class="p-button-sm p-button-outlined mr-2"
                                [style]="{'background': '#872657' }" styleClass="p-button-sm"></p-button>
                            <p-button label="Execute Report" icon="fa fa-cogs" styleClass="p-button-text" class="mr-2">
                            </p-button>
                            <i class="pi pi-bars"></i>
                        </div>
                    </p-toolbar>
                </ng-template>
                <ng-template [ngIf]="!ganesh1" class="col-12 p-fluid">
                    <strong>Execution History</strong>
                    <button pButton pRipple type="button" icon="pi pi-question"
                        class="p-button-sm p-button-rounded p-button-info mr-2"></button>
                    <div class="col-12 p-fluid">

                        <p-table #dt1 [columns]="selectedColumns" [value]="portsummaryreports" [rows]="10"
                            [paginator]="true" [(selection)]="selectedProducts" [rowHover]="true" dataKey="id"
                            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                            [showCurrentPageReport]="true" [resizableColumns]="true"
                            styleClass="p-datatable-gridlines p-datatable-sm" [globalFilterFields]="selectedColumns"
                            [scrollable]="true" scrollHeight="400px" scrollDirection="both"
                            [rowsPerPageOptions]="[10,25,50]">
                            <ng-template pTemplate="caption">
                                <div class="field">
                                    <div class="flex align-items-center justify-content-between">
                                        <button pButton label="Clear" class="p-button-outlined"
                                            icon="pi pi-filter-slash" (click)="clear(dt1)"
                                            style="flex-basis: content;"></button>
                                        <p-multiSelect [options]="columns" [(ngModel)]="SelectedColumns"
                                            optionLabel="header" selectedItemsLabel="{0} columns selected"
                                            [style]="{minWidth: '200px'}" placeholder="Choose Columns"></p-multiSelect>
                                        <span class="p-input-icon-left p-ml-auto" style="flex-basis: fit-content;">
                                            <i class="pi pi-search"></i>
                                            <input pInputText type="text"
                                                (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                                                placeholder="Search keyword" />
                                        </span>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <ng-container *ngFor="let col of columns">
                                        <th [pSortableColumn]="col.field" style="width:170px" pResizableColumn>
                                            {{col.header}}
                                            <ng-template
                                                [ngIf]="!(col.field ==='password' || col.field ==='enablepassword')">
                                                <p-columnFilter type="text" [field]="col.field"
                                                    [matchModeOptions]="matchModeOptions" [matchMode]="'custom-equals'"
                                                    display="menu">
                                                </p-columnFilter>
                                                <p-sortIcon [field]="col.field"></p-sortIcon>
                                            </ng-template>
                                        </th>
                                    </ng-container>
                                    <th style="width:200px">Action</th>
                                </tr>
                            </ng-template>

                            <ng-template pTemplate="body" let-device let-columns="columns">
                                <tr>
                                    <td *ngFor="let col of columns" style="width:170px">
                                        <ng-template [ngIf]="col.field =='reportname'">
                                            <div> <a (click)="showDetails()">{{device[col.field]}} </a></div>
                                        </ng-template>
                                        <ng-template [ngIf]="col.field !='reportname'">
                                            <div> {{device[col.field]}} </div>
                                        </ng-template>
                                    </td>
                                    <td style="width:200px">
                                        <button pButton pRipple icon="fa fa-eye"
                                            class="p-button-text p-button-success mr-2"
                                            (click)="ganesh(device)"></button>
                                        <button pButton pRipple icon="fa fa-download"
                                            class="p-button-text p-button-info mr-2" (click)="ganesh(device)"></button>
                                        <button pButton pRipple icon="pi pi-trash"
                                            class="p-button-text p-button-warning" (click)="deleteProduct()"></button>
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="summary">
                                <div class="flex align-items-center justify-content-between">
                                    In total there are {{portsummaryreports ? portsummaryreports.length : 0 }} devices.
                                </div>
                            </ng-template>
                        </p-table>
                    </div>
                </ng-template>
                <ng-template [ngIf]="ganesh1">
                    <app-port-summary-report-details></app-port-summary-report-details>
                </ng-template>
                <!-- <ng-template pTemplate="footer">
                    Footer content here
                </ng-template> -->
            </p-card>
        </ng-template>
        <ng-template [ngIf]="!gg">
            <app-port-summary-generate-report></app-port-summary-generate-report>
        </ng-template>
    </div>
</div>